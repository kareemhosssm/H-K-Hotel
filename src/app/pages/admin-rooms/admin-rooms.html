<div class="p-8 bg-[#F8FAFC] min-h-screen">

    <div class="mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4">
        <div>
            <h1 class="text-2xl font-bold text-[#0B1F33]">Manage Rooms</h1>
            <p class="text-gray-500 text-sm mt-1">Easily organize, edit, and monitor your hotel inventory.</p>
        </div>
        <button routerLink="/admin/add"
            class="bg-[#0B1F33] text-white px-6 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-900/10 hover:bg-slate-800 transition-all flex items-center justify-center gap-2">
            <i class="fas fa-plus"></i> Add New Room
        </button>
    </div>

    <div class="bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden">
        <div class="overflow-x-auto">
            <table class="w-full">
                <thead class="bg-gray-50/50 text-gray-400 uppercase text-[10px] font-black tracking-widest">
                    <tr>
                        <th class="text-left py-5 px-8">Room Details</th>
                        <th class="text-left py-5 px-8">Category</th>
                        <th class="text-left py-5 px-8">Rate</th>
                        <th class="text-left py-5 px-8">Availability</th>
                        <th class="text-center py-5 px-8">Management</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-50">
                    <tr *ngFor="let room of pagedBookings" class="hover:bg-gray-50/50 transition-colors group">

                        <td class="py-5 px-8">
                            <div class="flex items-center gap-4">
                                <div class="relative">
                                    <img [src]="'http://localhost:5192'+room.images[0]"
                                        class="w-14 h-14 rounded-2xl object-cover shadow-sm border border-gray-100"
                                        alt="room">
                                    <span
                                        class="absolute -top-2 -right-2 bg-[#0B1F33] text-white text-[9px] px-1.5 py-0.5 rounded-lg font-bold">
                                        #{{ room.number }}
                                    </span>
                                </div>
                                <div class="max-w-[200px]">
                                    <p class="font-bold text-slate-700 truncate">Room Premium</p>
                                    <p class="text-[11px] text-gray-400 line-clamp-1 italic">{{ room.description }}</p>
                                </div>
                            </div>
                        </td>

                        <td class="py-5 px-8">
                            <span
                                class="text-[10px] font-black uppercase tracking-widest text-slate-500 bg-slate-100 px-3 py-1 rounded-lg">
                                {{ room.type }}
                            </span>
                        </td>

                        <td class="py-5 px-8">
                            <div class="flex flex-col">
                                <span class="text-sm font-bold text-slate-800">${{ room.pricePerNight }}</span>
                                <span class="text-[10px] text-gray-400 uppercase font-medium">per night</span>
                            </div>
                        </td>
                        <td class="py-5 px-8">
                            <div *ngIf="room.isAvailable" class="flex items-center gap-1.5 text-emerald-600">
                                <span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span>
                                <span class="text-[10px] font-black uppercase tracking-tight">Available</span>
                            </div>
                            <div *ngIf="!room.isAvailable" class="flex items-center gap-1.5 text-rose-500">
                                <span class="w-2 h-2 rounded-full bg-rose-500"></span>
                                <span class="text-[10px] font-black uppercase tracking-tight">Occupied</span>
                            </div>
                        </td>
                        
                        <td class="py-5 px-8 text-center">
                            <div class="flex items-center justify-center gap-2">
                                <button [routerLink]="['/admin/rooms/update/', room.roomId]"
                                    class="p-2 text-blue-500 hover:bg-blue-50 rounded-lg transition-colors" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button (click)="deleteRoom(room.roomId)"
                                    class="p-2 text-rose-500 hover:bg-rose-50 rounded-lg transition-colors" title="Delete">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </div>
                        </td>
                        </tr>
                        </tbody>
                        </table>
                        </div>
                        
                        <div
                            class="px-8 py-5 bg-gray-50/30 border-t border-gray-50 flex flex-col sm:flex-row justify-between items-center gap-4">
                            <p class="text-xs font-bold text-gray-400 uppercase tracking-widest">
                                Showing Inventory: {{ allRoom.length }} Rooms
                            </p>
                        
                            <div class="flex gap-1 items-center">
                                <button (click)="prevPage()" [disabled]="currentPage === 1"
                                    class="w-8 h-8 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 disabled:opacity-40 transition-all text-gray-600">
                                    <i class="fas fa-chevron-left text-[10px]"></i>
                                </button>
                        
                                <div class="flex gap-1 mx-2">
                                    <button *ngFor="let page of [].constructor(totalPages); let i = index" (click)="goToPage(i + 1)" [ngClass]="{
                                                        'bg-[#0B1F33] text-white border-[#0B1F33] shadow-md': currentPage === (i + 1),
                                                        'bg-white text-gray-500 border-gray-200 hover:bg-gray-50': currentPage !== (i + 1)
                                                    }"
                                        class="w-8 h-8 flex items-center justify-center border rounded-xl text-xs font-bold transition-all">
                                        {{ i + 1 }}
                                    </button>
                                </div>
                        
                                <button (click)="nextPage()" [disabled]="currentPage === totalPages"
                                    class="w-8 h-8 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 disabled:opacity-40 transition-all text-gray-600">
                                    <i class="fas fa-chevron-right text-[10px]"></i>
                                </button>
                            </div>
                        </div>
                        </div>
                        </div>